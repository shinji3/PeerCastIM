<!doctype html>
<html>
<head>
<title>{$page.channel.name} - PeerCast - {@if servMgr.serverName}{$servMgr.serverName}{@else}{$request.host}{@end}</title>
<link rel="stylesheet" href="peercast.css">
<meta charset="utf-8">
<style>
.paper { background-color: #eee; max-width: 750px; margin: 1em auto 1em auto; padding: 0.5em }
object { color: white; font-size: 14px; }
.message { color: white; font-size: 14px; }
</style>
</head>
<body class="normal" style="background-color: #222">
{@if page.channel.type == "FLV"}
{@if page.player != "flash" }
<div class="message" style="text-align: center">
<script src="/assets/js/flv.min.js"></script>
<video id="videoElement" controls autoplay>
お使いのブラウザは FLV 動画の再生に対応していないようです。 プレイリストから再生してください。
</video>
<script>
if (flvjs.isSupported()) {
var videoElement = document.getElementById('videoElement');
var flvPlayer = flvjs.createPlayer({
type: 'flv',
isLive: true,
url: '/stream/{$page.channel.id}.flv'
});
flvPlayer.attachMediaElement(videoElement);
flvPlayer.load();
flvPlayer.play();
}
</script>
</div>
{@else}
<div class="message" style="text-align: center">
<object width="800" height="450"
id="undefined" name="undefined"
data="http://releases.flowplayer.org/swf/flowplayer-3.2.18.swf"
type="application/x-shockwave-flash">
<param name="movie" value="http://releases.flowplayer.org/swf/flowplayer-3.2.18.swf" />
<param name="allowfullscreen" value="true" />
<param name="allowscriptaccess" value="always" />
<param name="flashvars" value='config={"canvas":{"backgroundColor":"#000","backgroundGradient":"none"},"clip":{"url":"/stream/{$page.channel.id}.flv?auth={$page.channel.authToken}"},"playlist":[{"url":"/stream/{$page.channel.id}.flv?auth={$page.channel.authToken}","scaling":"fit"}]}' />
</object>
</div>
{@end}
{@else}{@if page.channel.type == "WMV"}
<div class="message" style="text-align: center">
<object
id="wmplayer"
width="640" height="480"
classid="CLSID:22D6F312-B0F6-11D0-94AB-0080C74C7E95"
codebase="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=6,4,5,715"
standby="Loading MicrosoftR WindowsR Media Player components..."
type="application/x-oleobject">
<param name="FileName" value="/pls/{$page.channel.id}.asx?auth={$page.channel.authToken}" />
<param name="AutoStart" value="true" />
<param name="ShowControls" value="true" />
お使いのブラウザは WMV 動画の再生に対応していないようです。 プレイリストから再生してください。
<!-- <embed name="wmplayer" width="640" height="480" pluginspage="http://www.microsoft.com/Windows/MediaPlayer/" type="application/x-mplayer2" src="mmsh://{$servMgr.serverIP}:{$servMgr.serverPort}/stream/{$page.channel.id}.wmv" autostart="1" showcontrols="1"> -->
</object>
</div>
{@else}
{@if page.channel.type == "MP3"}
<div class="message" style="text-align: center">
<audio controls autoplay style="min-width: 640px">
<source src="/stream/{$page.channel.id}.mp3?auth={$page.channel.authToken}" type="audio/mpeg">
お使いのブラウザは MP3 音声の再生に対応していないようです。 プレイリストから再生してください。
</audio>
</div>
{@else}{@if page.channel.type == "MKV"}
<div class="message" style="text-align: center">
<video controls autoplay>
<source src="/stream/{$page.channel.id}.mkv?auth={$page.channel.authToken}" type="video/webm">
お使いのブラウザは MKV 動画の再生に対応していないようです。 プレイリストから再生してください。
</video>
<div>再生できない場合はプレイリストから再生してください。</div>
</div>
{@else}{@if page.channel.type == "WEBM"}
<div class="message" style="text-align: center">
<video controls autoplay>
<source src="/stream/{$page.channel.id}.webm?auth={$page.channel.authToken}" type="video/webm">
お使いのブラウザは WebM 動画の再生に対応していないようです。 プレイリストから再生してください。
</video>
</div>
{@else}
<div class="message" style="margin: 5em auto; text-align: center">
このタイプのストリームの再生には対応していません。 ({$page.channel.type})
プレイリストから再生してください。
</div>
{@end}
{@end}
{@end}
{@end}
{@end}
<div class="paper">
{$page.channel.name} {$page.channel.desc} {$page.channel.comment} {$page.channel.bitrate} kbps
<a target="_blank"
href="/pls/{$page.channel.id}{$page.channel.plsExt}?auth={$page.channel.authToken}">
プレイリスト
</a>
{@if page.channel.contactURL}
<a target="_blank"
href="{$page.channel.contactURL}">
コンタクトURL
</a>
{@else}
コンタクトURL
{@end}
</div>
</body>
</html>
